---
layout: post
title: First 2.5 weeks of Tech Lead
categories: [Sharing]
tags: [Career, TechLead]
fullview: false
comments: true
---

十年前做过lead，做过PM。后来觉得纯管人费神还不踏实，于是干脆就回头继续做工程师了。三周前赶鸭子上架，又做起了一个大项目的云端services的Tech lead。考虑到年龄不小了，拼加班不是不行但显然拖家带口的情况下能用来加班的时间没有光棍儿们多了。另一方面我又舍不得技术而去做纯管理，所以Tech lead这种主要做技术决策的活儿听上去还不错。

这个大项目是一个有点儿复杂的项目，Q公司是硬件芯片提供方，出芯片、驱动和操作系统等软件，但不出硬件产品；A公司是硬件制造商，出最终的开发板，但只管集成，不管开发，有问题你们别人解决好了再来找我；我们公司出用户管理和使用的平台，其中要用到Q公司的芯片和我们自己的IoT平台。我负责的云端则主要是把用户的管理功能和使用功能做成Docker image（A部门），通过IoT平台（I部门）推到硬件产品上去运行。等产品最终发布了可以写的更详细点儿。

既然用户的管理和使用的代码都通过我的服务（们）来处理，所以我这里的dependencies特别多，内外兼有。Dependencies多没啥，关键是靠谱的只有A部门，Q公司和I部门两家都是猪队友。Q公司从来没有按时交过活儿，硬件的质量还是可以的，各种折腾都坚挺不倒；但软件质量基本上就是渣了。加上我们用到的是他们最新的功能，没有别的小白鼠一起被测，我们就成了第一家小白鼠（有空我把Motorola为Windows Mobile做的贡献翻出来写写，这里可以参考）。I部门交活儿那真的是从来没有拖沓过，软件支持几乎各种常见语言。槽点在于各种bug和各种不告诉你的限制，比如只能在Raspberry Pi上用某个功能，但广告给你的是全世界的ARM平台老子都能跑，直到你遇到问题了才跟你说“哥，不好意思哈。。。。”

我自己的老板不是太技术，但人好在充分相信下属，只要能让下属做的技术决定，他一定不自己拿主意。对产品经理插足architecture或者dev design的事情也是尽量挡着。另外一点就是超级相信赶工是一定不能出高质量代码的，所以只要是进度和质量有冲突，他第一个上去保证质量不受影响，进度咱们可以商量着来，即使要求进度的是VP级别的老板或者外面的客户。

项目组内部也是很有意思，两个性格迥异的队友：米国小伙话不多，活儿很靠谱，但人很刺儿头，从来不愿意估schedule；印度大叔话也不多，活儿一般，但性格超级佛系（这样的印度人我还是第一次见到），跟我商量好准备开始写代码了，结果还在各种看文档。相邻项目组的兄弟们从了解到这个项目复杂度的第一天开始也是各种甩锅，能让我们做的他们绝对不碰，即使是他们自己的代码也能让我们随便改。还有一个队友刚回来，之前去休假了，这个是个很靠谱的印度大哥，我曾经专门写过[他的故事]({{ site.url }}/sharing/2018/07/18/Why-How-What.html)。如果不是他去休假了，我估计不会是我做tech lead。

这个大项目还有个有意思的事儿是：产品经理们希望大约一个月后能demo给外部看，而云端代码repo要提前两周锁起来保证没有last minute surprise，Q公司的东西距离demo一个月了还没有完全能用。同时，任何一个项目组都没有人愿意写代码只用来demo，也就是没人愿意写所谓的throwaway work。

因为之前对整个大项目有了一定的了解，所以我做的第一件事儿就是站在services角度看该做什么。这个对我来说不难，毕竟这些云端的东西我都参与了设计，大部分都参与了开发。问题在于其余队友是上个月才在re-org之后进入项目组的，对代码和产品两眼一抹黑。我得让他们尽快上手，我好腾出手折腾项目进度跟踪，Dependencies tracking之类的“杂活儿”。又由于刚刚合并，新进项目组的兄弟们对原有产品的设计很抵触，有时候恨不得重新设计重新写；原有项目的人则各种反抗，有时候闹到剑拔弩张。时间不等人啊，所以我还得在新旧队员之间各种安抚。这里涉及到内部M1组、S组、T组和新成立的M2组。

总算一个星期以后有了一致的意见，但同时发现我们依赖的内部一个组M的功能没有精力做，不能按时给我们用。所以我不得不重新分配人手，优先做这个。这个功能的代码量并不大，但涉及到跟A部门的集成，又是在关键路径上的功能，所以风险很高。各种协调之后，终于M1组出了一个人给我们做原型，我们根据原型来做产品。佛系的印度大叔表示，这个可以接受。至于对Q公司的依赖，米国小伙深入研究了两天，对我要回来的Q公司的beta版软件评价了一个字：“Trash”。于是我又继续跟Q公司聊天，我觉得从米国小伙的反馈来看，说好的日子（一周以后）Q公司肯定拿不出来能给人类用的东西。另一个靠谱的印度大哥这周回来了，但他还得跟Q公司继续折腾firmware，让软件能跑起来。。。

我自己则一边协调上面的各方关系，一边研究I部门的接口和环境（我以前用过dotnet core的接口，这次要用Python的），寻找最合适的Docker base image。发现I部门的东西对Python3.5谜一样的绑定，对boost的依赖，一切都只测试过Raspberry Pi。。。

上周五开始跟刚回来的印度大哥交接，下周要去休假了，靠谱印度大哥替我当一周的tech lead。按照现在的计划，回来以后应该有些代码了，硬件的一部分软件支持应该也能用了（希望Q公司能部分靠谱）。希望能赶上demo，但我在任何地方都表示我们不保证时间上能赶上demo，我们只保证我们提交的代码质量！